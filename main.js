(()=>{"use strict";var e={151:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(81),r=o.n(n),i=o(645),s=o.n(i)()(r());s.push([e.id,'html{background-color:#101010}.keyboard{display:flex;flex-direction:column;align-items:center}.row{width:1000px;height:100px;display:flex}.textbox__container{display:flex;justify-content:center}.textbox__container .textbox__input{width:970px;height:250px;border-radius:8px;background-color:#181818;border:none;resize:none;overflow:auto;outline:none;color:#deb887;font-size:16px;padding:10px;font-family:monospace}.key{white-space:nowrap;font-family:"Courier New",Courier,monospace;border-radius:8px;width:100%;text-align:center;line-height:2;vertical-align:middle;color:#fff;background:radial-gradient(ellipse at center, #333 0%, #222 100%);margin:.4vh;padding-left:1%;padding-right:1%;display:inline-flex;align-items:center;justify-content:center}.key.pressed{background:radial-gradient(ellipse at center, #368b44 0%, #151515 100%);color:#ddd;text-shadow:0 0 .5vh #999}.key.single{line-height:2;padding-top:.5vh}.key.multi{line-height:2;padding-top:.5vh}.key.shift{width:300%}.key.space{width:700%}.key.backspace{width:200%}.key.enter{width:200%}.key.tab{width:180%}.key.capslock{width:200%}',""]);const a=s},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",n=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),n&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),n&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,n,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);n&&s[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),o&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=o):d[2]=o),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function o(e){for(var o=-1,n=0;n<t.length;n++)if(t[n].identifier===e){o=n;break}return o}function n(e,n){for(var i={},s=[],a=0;a<e.length;a++){var c=e[a],l=n.base?c[0]+n.base:c[0],d=i[l]||0,u="".concat(l," ").concat(d);i[l]=d+1;var y=o(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==y)t[y].references++,t[y].updater(p);else{var m=r(p,n);n.byIndex=a,t.splice(a,0,{identifier:u,updater:m,references:1})}s.push(u)}return s}function r(e,t){var o=t.domAPI(t);return o.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,r){var i=n(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var a=o(i[s]);t[a].references--}for(var c=n(e,r),l=0;l<i.length;l++){var d=o(i[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=c}}},569:e=>{var t={};e.exports=function(e,o){var n=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,o)=>{e.exports=function(e){var t=o.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var r=void 0!==o.layer;r&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,r&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var i=o.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.nc=void 0,(()=>{function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,o){if(e){if("string"==typeof e)return t(e,o);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,o):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}const n=[[{symbols:["~","`"],type:["multi"],code:"Backquote"},{symbols:["!","1"],type:["multi"],code:"Digit1"},{symbols:["@","2"],type:["multi"],code:"Digit2"},{symbols:["#","3"],type:["multi"],code:"Digit3"},{symbols:["$","4"],type:["multi"],code:"Digit4"},{symbols:["%","5"],type:["multi"],code:"Digit5"},{symbols:[":","6"],type:["multi"],code:"Digit6"},{symbols:["?","7"],type:["multi"],code:"Digit7"},{symbols:["*","8"],type:["multi"],code:"Digit8"},{symbols:["(","9"],type:["multi"],code:"Digit9"},{symbols:[")","0"],type:["multi"],code:"Digit0"},{symbols:["_","-"],type:["multi"],code:"Minus"},{symbols:["+","="],type:["multi"],code:"Equal"},{symbols:["Backspace"],type:["backspace"],code:"Backspace"}],[{symbols:["Tab"],type:["tab"],code:"Tab"},{symbols:["Q"],code:"KeyQ"},{symbols:["W"],code:"KeyW"},{symbols:["E"],code:"KeyE"},{symbols:["R"],code:"KeyR"},{symbols:["T"],code:"KeyT"},{symbols:["Y"],code:"KeyY"},{symbols:["U"],code:"KeyU"},{symbols:["I"],code:"KeyI"},{symbols:["O"],code:"KeyO"},{symbols:["P"],code:"KeyP"},{symbols:["{","["],type:["multi"],code:"BracketLeft"},{symbols:["}","]"],type:["multi"],code:"BracketRight"},{symbols:["|","\\"],type:["multi"],code:"Backslash"},{symbols:["Del"],code:"Delete"}],[{symbols:["Caps Lock"],type:["capslock"],code:"CapsLock"},{symbols:["A"],code:"KeyA"},{symbols:["S"],code:"KeyS"},{symbols:["D"],code:"KeyD"},{symbols:["F"],code:"KeyF"},{symbols:["G"],code:"KeyG"},{symbols:["H"],code:"KeyH"},{symbols:["J"],code:"KeyJ"},{symbols:["K"],code:"KeyK"},{symbols:["L"],code:"KeyL"},{symbols:[":",";"],type:["multi"],code:"Semicolon"},{symbols:['"',"'"],type:["multi"],code:"Quote"},{symbols:["Enter"],type:["enter"],code:"Enter"}],[{symbols:["Shift"],type:["shift"],code:"ShiftLeft"},{symbols:["Z"],code:"KeyZ"},{symbols:["X"],code:"KeyX"},{symbols:["C"],code:"KeyC"},{symbols:["V"],code:"KeyV"},{symbols:["B"],code:"KeyB"},{symbols:["N"],code:"KeyN"},{symbols:["M"],code:"KeyM"},{symbols:["<",","],type:["multi"],code:"Comma"},{symbols:[">","."],type:["multi"],code:"Period"},{symbols:["?","/"],type:["multi"],code:"Slash"},{symbols:["▲"],type:["arrow-up"],code:"ArrowUp"},{symbols:["Shift"],type:["shift"],code:"ShiftRight"}],[{symbols:["Ctrl"],type:["ctrl"],code:"ControlLeft"},{symbols:["Win"],type:["win"],code:"MetaLeft"},{symbols:["Alt"],type:["alt"],code:"AltLeft"},{symbols:["Space"],type:["space"],code:"Space"},{symbols:["Alt"],type:["alt"],code:"AltRight"},{symbols:["◄"],type:["arrow-left"],code:"ArrowLeft"},{symbols:["▼"],type:["arrow-down"],code:"ArrowDown"},{symbols:["►"],type:["arrow-right"],code:"ArrowRight"},{symbols:["Ctrl"],type:["ctrl"],code:"ControlRight"}]];function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function s(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==r(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,"string");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key),"symbol"===r(i)?i:String(i)),n)}var i}var a,c,l=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.rootContainer=e,this.lineEnd=0,this.actions={Insert:"Insert",Backspace:"Backspace",Delete:"Delete",Tab:"Tab",Enter:"Enter",ShiftRight:"ShiftRight",ShiftLeft:"ShiftLeft",Space:"Space"},this.metaKeyState={shift:!1,capslock:!1}}var o,r;return o=t,(r=[{key:"setLang",value:function(e){if(console.log(e),!["ru","en"].includes(e))throw Error("Wrong language: ",e);this.lang=e,localStorage.setItem("lang",this.lang)}},{key:"getLang",value:function(){return localStorage.getItem("lang",this.lang)||"en"}},{key:"modifyTextAtCursor",value:function(e,t){var o,n,r,s,a=(o=this.textbox,r=[(n=[o.selectionStart,o.selectionEnd])[0],n[1]],s=2,function(e){if(Array.isArray(e))return e}(r)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,i,s,a=[],c=!0,l=!1;try{if(i=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;c=!1}else for(;!(c=(n=i.call(o)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){l=!0,r=e}finally{try{if(!c&&null!=o.return&&(s=o.return(),Object(s)!==s))return}finally{if(l)throw r}}return a}}(r,s)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?i(e,t):void 0}}(r,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1];this.actions[t]&&t!==this.actions.Insert?t!==this.actions.Backspace?t!==this.actions.Delete?t!==this.actions.Tab?t!==this.actions.Enter?t===this.actions.Space&&this.textbox.setRangeText(" ",c,l,"end"):this.textbox.setRangeText("\n",c,l,"end"):this.textbox.setRangeText("\t",c,l,"end"):this.textbox.setRangeText("",c,l+1):c>0&&this.textbox.setRangeText("",c-1,l):this.textbox.setRangeText(e,c,l,"end")}},{key:"keyAction",value:function(e,t,o){if(t===this.actions.ShiftLeft||t===this.actions.ShiftRight)return!this.metaKeyState.shift&&["keydown","mousedown"].includes(e.type)&&(this.metaKeyState.shift=!0,this.plainKeys.forEach((function(e){e.innerHTML=e.innerHTML.toUpperCase()}))),void(this.metaKeyState.shift&&["keyup","mouseup","mouseleave"].includes(e.type)&&(this.metaKeyState.shift=!1,this.plainKeys.forEach((function(e){e.innerHTML=e.innerHTML.toLowerCase()}))));["keydown","mousedown"].includes(e.type)&&this.modifyTextAtCursor(o,t)}},{key:"buildInputBox",value:function(){return this.textboxContainer=document.createElement("div"),this.textboxContainer.classList.add("textbox__container"),this.textbox=document.createElement("textarea"),this.textbox.cols=110,this.textbox.wrap="hard",this.textbox.classList.add("textbox__input"),this.textboxContainer.appendChild(this.textbox),this.textboxContainer}},{key:"buildKeyboard",value:function(){var t=this,o=document.createElement("div");o.classList.add("keyboard"),n.map((function(n){var r=document.createElement("div");return r.classList.add("row"),o.appendChild(r),n.map((function(o){var n=function(t,o){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=document.createElement("span");i.dataset.code=o,r&&r.includes("multi")&&(i.dataset.multi=!0),i.classList.add("key"),r&&(n=i.classList).add.apply(n,e(r));var s=t[0].toLowerCase(),a=t.length>1?t[1]:void 0;return i.innerHTML=t.length>1?"".concat(s,"<br/>").concat(a):s,i}(o.symbols,o.code,o.type);return n.addEventListener("mousedown",(function(e){t.textbox.focus();var o=e.target.dataset.code,n=document.querySelector('[data-code="'.concat(o,'"]')),r=t.metaKeyState.shift?0:1,i=n.dataset.multi?n.innerHTML.split("<br>")[r]:n.innerHTML;n.classList.add("pressed"),t.keyAction(e,o,i),t.textbox.focus()})),n.addEventListener("mouseup",(function(e){var o=e.target.dataset.code;document.querySelector('[data-code="'.concat(o,'"]')).classList.remove("pressed"),t.keyAction(e,o,null),t.textbox.focus()})),n.addEventListener("mouseleave",(function(e){var o=e.target.dataset.code;document.querySelector('[data-code="'.concat(o,'"]')).classList.remove("pressed"),t.keyAction(e,o,null),t.textbox.focus()})),r.appendChild(n)}))}));var r=[];return window.addEventListener("keydown",(function(e){t.textbox.focus(),e.preventDefault();var o=e.code;r.push(o);var n=document.querySelector('[data-code="'.concat(o,'"]'));if(n){var i=t.metaKeyState.shift?0:1,s=n.dataset.multi?n.innerHTML.split("<br>")[i]:n.innerHTML;n.classList.add("pressed"),t.keyAction(e,o,s),t.textbox.focus()}})),window.addEventListener("keyup",(function(e){var o=e.code;if(r.includes(o)){r=r.filter((function(e){return e!==o}));var n=document.querySelector('[data-code="'.concat(o,'"]'));if(!n)return;n.classList.remove("pressed"),t.keyAction(e,o,null)}t.textbox.focus()})),o}},{key:"init",value:function(){var e=this;this.setLang(this.getLang()),this.rootContainer.appendChild(this.buildInputBox()),this.rootContainer.appendChild(this.buildKeyboard()),this.textbox.addEventListener("blur",(function(){e.textbox.focus()})),this.plainKeys=document.querySelectorAll("[data-code^='Key']"),this.multiKeys=document.querySelectorAll("[data-multi='true']")}}])&&s(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),t}(),d=o(379),u=o.n(d),y=o(795),p=o.n(y),m=o(569),f=o.n(m),b=o(565),h=o.n(b),v=o(216),g=o.n(v),x=o(589),w=o.n(x),S=o(151),k={};k.styleTagTransform=w(),k.setAttributes=h(),k.insert=f().bind(null,"head"),k.domAPI=p(),k.insertStyleElement=g(),u()(S.Z,k),S.Z&&S.Z.locals&&S.Z.locals,a=document.body,c=document.createElement("div"),a.appendChild(c),new l(c).init()})()})();